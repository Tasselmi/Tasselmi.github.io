I" :<blockquote>
  <p>æ‰€è°“äº¤äº’å¼æ˜¯æŒ‡ï¼Œç”¨æˆ·å¯¹APPæ–½åŠ è¡Œä¸ºèƒ½å¤Ÿå½±å“æˆ–æ”¹å˜APPçš„å¤–è§‚æˆ–å†…å®¹ï¼Œè¡Œä¸ºèƒ½å¤Ÿå¾—åˆ°åé¦ˆã€‚æ¯”å¦‚ï¼Œé¼ æ ‡hoveræ—¶å€™æ•°æ®é—ªç°ã€ç‚¹å‡»æŒ‰é’®ç”Ÿæˆæ–°çš„æ•°æ®å’Œå›¾è¡¨ç­‰ï¼Œéƒ½å±äºäº¤äº’ã€‚</p>
</blockquote>

<p>dashä¸­å®ç°äº¤äº’çš„é€»è¾‘éå¸¸ç®€å•ï¼Œå³è°ƒç”¨å›è°ƒå‡½æ•°<code class="language-plaintext highlighter-rouge">@app.callback</code>ï¼Œåœ¨å›è°ƒå‡½æ•°ä¸­ <code class="language-plaintext highlighter-rouge">Input</code> ä¸ºè¢«æ–½åŠ è¡Œä¸ºçš„å…ƒç´ ï¼Œ <code class="language-plaintext highlighter-rouge">Output</code> ä¸ºè¢«å½±å“çš„å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯è¯´Inputæ˜¯å› ï¼ŒOutputæ˜¯æœï¼Œå¯¹Inputä¼ å…¥çš„å€¼ä¸€ç•ªæ“ä½œåï¼Œå°†å€¼ï¼ˆå›è°ƒå‡½æ•°è¿”å›å€¼ï¼‰ä¼ ç»™Outputè¿›è¡Œè¾“å‡ºã€‚åŒä¸€ä¸ªå…ƒç´ åªèƒ½åœ¨Outputä¸­å‡ºç°ä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯è¯´åŒä¸€ä¸ªå…ƒç´ ä¸èƒ½è¢«å¤šä¸ªå›è°ƒå‡½æ•°çš„Outputè°ƒç”¨ï¼Œä½†ä¸€ä¸ªInputå¯ä»¥è°ƒç”¨å¤šä¸ªå›è°ƒå‡½æ•°â€”â€”æ§åˆ¶å¤šä¸ªå…¶å®ƒå…ƒç´ ã€‚å¦‚æœå¤šä¸ªå…ƒç´ åŒæ—¶æ§åˆ¶ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆéœ€è¦åœ¨ä¸€ä¸ªå›è°ƒå‡½æ•°ä¸­ï¼Œè¾“å…¥å¤šä¸ªInputã€‚</p>

<p>Stateå¯ä»¥è®°å½•å…ƒç´ çš„å½“å‰çŠ¶æ€æˆ–å€¼ã€‚æ¯”å¦‚è®°å½•å½“å‰å›¾è¡¨è¢«é¼ æ ‡hoveræ—¶å€™çš„å€¼ã€‚Stateåªèƒ½é…åˆInputä¸€èµ·ä½¿ç”¨â€”â€”è¾“å…¥è¡Œä¸ºçš„åŒæ—¶è®°å½•å…ƒç´ çš„çŠ¶æ€å€¼ã€‚</p>

<p>Inputä½¿ç”¨æ–¹æ³•ä¸º  <code class="language-plaintext highlighter-rouge">[Input('id', 'property')]</code> ï¼›Outputçš„ä½¿ç”¨æ–¹æ³•ä¸º <code class="language-plaintext highlighter-rouge">Output('id', 'property')</code> ï¼›Stateçš„ä½¿ç”¨æ–¹æ³•ä¸º <code class="language-plaintext highlighter-rouge">[State('id', 'property'), State('id', 'property')]</code></p>

<p>ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">dash</span>
<span class="kn">import</span> <span class="nn">dash_core_components</span> <span class="k">as</span> <span class="n">dcc</span>   
<span class="kn">import</span> <span class="nn">dash_html_components</span> <span class="k">as</span> <span class="n">html</span>   
<span class="kn">from</span> <span class="nn">dash.dependencies</span> <span class="kn">import</span> <span class="n">Output</span><span class="p">,</span> <span class="n">Input</span><span class="p">,</span> <span class="n">State</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">dash</span><span class="p">.</span><span class="n">Dash</span><span class="p">()</span>
<span class="n">app</span><span class="p">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">html</span><span class="p">.</span><span class="n">Div</span><span class="p">([</span>
    <span class="n">html</span><span class="p">.</span><span class="n">Div</span><span class="p">([</span>
        <span class="n">html</span><span class="p">.</span><span class="n">H6</span><span class="p">(</span><span class="s">'è¯·ç»™æˆ‘ä»¬åé¦ˆ'</span><span class="p">,</span>
            <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s">'color'</span><span class="p">:</span> <span class="s">'red'</span><span class="p">,</span> <span class="s">'font-size'</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="s">'padding-left'</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="s">'padding-top'</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="p">}),</span>
        <span class="n">html</span><span class="p">.</span><span class="n">P</span><span class="p">(</span><span class="s">'1.å¯¹äºæœ¬æœˆçš„æœˆæŠ¥ï¼Œæ‚¨çš„æ»¡æ„åº¦è¯„åˆ†æ˜¯ï¼Ÿï¼ˆ0-10åˆ†ï¼Œåˆ†å€¼è¶Šé«˜è¶Šæ»¡æ„ï¼‰'</span><span class="p">),</span>
        <span class="n">html</span><span class="p">.</span><span class="n">Div</span><span class="p">(</span>
            <span class="n">dcc</span><span class="p">.</span><span class="n">Slider</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="s">'slider_feedback'</span><span class="p">,</span>
                <span class="nb">min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                <span class="nb">max</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                <span class="n">marks</span><span class="o">=</span><span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="s">'{}åˆ†'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">11</span><span class="p">)},</span>
                <span class="n">value</span><span class="o">=</span><span class="mi">0</span>
            <span class="p">),</span>
            <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s">'padding-left'</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="s">'width'</span><span class="p">:</span> <span class="s">'60%'</span><span class="p">}</span>
        <span class="p">),</span>
        <span class="n">html</span><span class="p">.</span><span class="n">P</span><span class="p">(</span><span class="s">'2.æ‚¨è§‰å¾—æœˆæŠ¥è¿˜æœ‰å“ªäº›åœ°æ–¹éœ€è¦æ”¹è¿›ï¼Ÿæˆ–è€…æ‚¨åœ¨ä¸‹ä¸€æœŸæœˆæŠ¥ä¸­è¿˜æƒ³äº†è§£å“ªäº›å†…å®¹ï¼Ÿ'</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s">'margin-top'</span><span class="p">:</span> <span class="mi">50</span><span class="p">}),</span>
        <span class="n">html</span><span class="p">.</span><span class="n">Div</span><span class="p">(</span>
            <span class="n">dcc</span><span class="p">.</span><span class="n">Textarea</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="s">'textarea_feedback'</span><span class="p">,</span>
                <span class="n">placeholder</span><span class="o">=</span><span class="s">'ä¸è®°åã€ä¸è¿½è¸ªã€ä¸æ‰“å‡»æŠ¥å¤ï¼Œè¯·ç•…æ‰€æ¬²è¨€~~~'</span><span class="p">,</span>
                <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s">'width'</span><span class="p">:</span> <span class="s">'100%'</span><span class="p">,</span> <span class="s">'height'</span><span class="p">:</span> <span class="mi">80</span><span class="p">}</span>
            <span class="p">),</span>
            <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s">'padding-left'</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="s">'width'</span><span class="p">:</span> <span class="s">'60%'</span><span class="p">}</span>
        <span class="p">),</span>
        <span class="n">html</span><span class="p">.</span><span class="n">Div</span><span class="p">(</span>
            <span class="n">html</span><span class="p">.</span><span class="n">Button</span><span class="p">(</span><span class="s">'ç‚¹å‡»æäº¤'</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="s">'button_feedback'</span><span class="p">,</span> <span class="n">n_clicks</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span>
            <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s">'padding-left'</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="s">'padding-top'</span><span class="p">:</span> <span class="mi">15</span><span class="p">,},</span>
        <span class="p">),</span>
        <span class="n">html</span><span class="p">.</span><span class="n">Div</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="s">'div_feedback_success'</span><span class="p">,</span>
            <span class="n">children</span><span class="o">=</span><span class="n">html</span><span class="p">.</span><span class="n">P</span><span class="p">(</span>
                <span class="nb">id</span><span class="o">=</span><span class="s">'p_feedback_success'</span><span class="p">,</span>
                <span class="n">children</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                <span class="n">style</span><span class="o">=</span><span class="p">{</span><span class="s">'color'</span><span class="p">:</span> <span class="s">'red'</span><span class="p">,</span> <span class="s">'font-size'</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="s">'padding-left'</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="s">'padding-top'</span><span class="p">:</span> <span class="mi">10</span><span class="p">,},</span>
            <span class="p">),</span>
            <span class="n">style</span><span class="o">=</span><span class="p">{},</span>
        <span class="p">),</span>
        <span class="n">html</span><span class="p">.</span><span class="n">Div</span><span class="p">(</span>
            <span class="nb">id</span><span class="o">=</span><span class="s">'div_feedback_data'</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">],</span> <span class="n">className</span><span class="o">=</span><span class="s">'div_feedback'</span><span class="p">),</span>
<span class="p">])</span>

<span class="c1"># ç‚¹å‡»æŒ‰é’®è¿”å›æäº¤æˆåŠŸ
</span><span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">callback</span><span class="p">(</span><span class="n">Output</span><span class="p">(</span><span class="s">'p_feedback_success'</span><span class="p">,</span> <span class="s">'children'</span><span class="p">),</span> <span class="p">[</span><span class="n">Input</span><span class="p">(</span><span class="s">'button_feedback'</span><span class="p">,</span> <span class="s">'n_clicks'</span><span class="p">)])</span>
<span class="k">def</span> <span class="nf">feedback_success</span><span class="p">(</span><span class="n">n_clicks</span><span class="p">):</span>
    <span class="n">hint</span> <span class="o">=</span> <span class="s">'æäº¤æˆåŠŸï¼Œè°¢è°¢ï¼'</span>
    <span class="k">if</span> <span class="n">n_clicks</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">hint</span>

<span class="c1"># ç‚¹å‡»æäº¤æŒ‰é’®ä¿å­˜æ•°æ®
</span><span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">callback</span><span class="p">(</span><span class="n">Output</span><span class="p">(</span><span class="s">'div_feedback_data'</span><span class="p">,</span> <span class="s">'children'</span><span class="p">),</span> <span class="p">[</span><span class="n">Input</span><span class="p">(</span><span class="s">'button_feedback'</span><span class="p">,</span> <span class="s">'n_clicks'</span><span class="p">)],</span>
              <span class="p">[</span><span class="n">State</span><span class="p">(</span><span class="s">'slider_feedback'</span><span class="p">,</span> <span class="s">'value'</span><span class="p">),</span> <span class="n">State</span><span class="p">(</span><span class="s">'textarea_feedback'</span><span class="p">,</span> <span class="s">'value'</span><span class="p">)])</span>
<span class="k">def</span> <span class="nf">feedback_success</span><span class="p">(</span><span class="n">n_clicks</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
    <span class="n">path</span> <span class="o">=</span> <span class="s">'/Users/liang/Documents/Python/99Pyproject/channelDailyData'</span>
    <span class="k">if</span> <span class="n">n_clicks</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">'feedback.txt'</span><span class="p">),</span> <span class="s">'a'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'gbk'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">'"{}", "{}", "{}", "{}" </span><span class="se">\n</span><span class="s">'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">(),</span> <span class="n">n_clicks</span><span class="p">,</span> <span class="n">score</span><span class="p">,</span> <span class="n">text</span><span class="p">.</span><span class="n">strip</span><span class="p">(</span><span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)))</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'æœ‰äººåœ¨{}æäº¤äº†ç¬¬{}æ¡åé¦ˆæ„è§ï¼Œè¯·å¿«æŸ¥çœ‹ï¼ '</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">(),</span> <span class="n">n_clicks</span><span class="p">))</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">app</span><span class="p">.</span><span class="n">run_server</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'127.0.0.1'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="s">'8050'</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

:ET